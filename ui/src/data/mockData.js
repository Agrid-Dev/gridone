export const mockDevices = [
  {
    id: 'device-1',
    name: 'Unité de refroidissement du hall',
    type: 'air_conditioner',
    zone: 'lobby',
    state: 'on',
    online: true,
    temperature: 21,
    targetTemperature: 21,
    mode: 'cool',
    fanSpeed: 'high',
    humidity: 40,
    powerConsumption: 5.6,
    lastUpdated: '2025-11-17T10:30:00Z',
  },
  {
    id: 'device-2',
    name: 'Thermostat Suite 1203',
    type: 'thermostat',
    zone: 'guest_floor_12',
    state: 'on',
    online: true,
    currentTemperature: 24,
    targetTemperature: 22,
    mode: 'cool',
    humidity: 48,
    lastUpdated: '2025-11-17T10:30:00Z',
  },
  {
    id: 'device-3',
    name: 'Grille d\'éclairage Grand Salon',
    type: 'light',
    zone: 'grand_ballroom',
    state: 'on',
    online: true,
    brightness: 70,
    color: '#FFF2E0',
    lastUpdated: '2025-11-17T10:30:00Z',
  },
  {
    id: 'device-4',
    name: 'Éclairage Salon du hall',
    type: 'light',
    zone: 'lobby',
    state: 'off',
    online: true,
    brightness: 30,
    color: '#FFD6A5',
    lastUpdated: '2025-11-17T10:30:00Z',
  },
  {
    id: 'device-5',
    name: 'Capteur Cuisine Banquet',
    type: 'sensor',
    zone: 'main_kitchen',
    state: 'on',
    online: true,
    temperature: 26,
    humidity: 40,
    airQuality: 95,
    lastUpdated: '2025-11-17T10:30:00Z',
  },
  {
    id: 'device-6',
    name: 'Ventilateur Spa',
    type: 'fan',
    zone: 'spa',
    state: 'off',
    online: false,
    speed: 0,
    lastUpdated: '2025-11-17T10:30:00Z',
  },
  {
    id: 'device-7',
    name: 'Capteur Porte Ascenseur Service',
    type: 'sensor',
    zone: 'service_elevator',
    state: 'on',
    online: true,
    doorOpen: false,
    lastUpdated: '2025-11-17T10:30:00Z',
  },
  {
    id: 'device-8',
    name: 'Purificateur d\'air Suite 1210',
    type: 'air_purifier',
    zone: 'guest_floor_12',
    state: 'on',
    online: true,
    fanSpeed: 'medium',
    airQuality: 88,
    lastUpdated: '2025-11-17T10:30:00Z',
  },
  {
    id: 'device-9',
    name: 'Lumières Terrasse Sky Lounge',
    type: 'light',
    zone: 'sky_lounge',
    state: 'off',
    online: true,
    brightness: 0,
    color: '#FFA500',
    lastUpdated: '2025-11-17T10:30:00Z',
  },
]

export const mockZones = [
  {
    id: 'lobby',
    name: 'Hall & Réception',
    icon: 'sofa',
    deviceCount: 2,
    activeDevices: 1,
    avgTemperature: 22,
    energyConsumption: 5.1,
  },
  {
    id: 'guest_floor_12',
    name: 'Étage Client 12',
    icon: 'bed',
    deviceCount: 2,
    activeDevices: 2,
    avgTemperature: 23,
    energyConsumption: 2.4,
  },
  {
    id: 'grand_ballroom',
    name: 'Grand Salon',
    icon: 'sun',
    deviceCount: 1,
    activeDevices: 1,
    avgTemperature: 21,
    energyConsumption: 3.7,
  },
  {
    id: 'main_kitchen',
    name: 'Cuisine Principale',
    icon: 'flame',
    deviceCount: 1,
    activeDevices: 1,
    avgTemperature: 26,
    energyConsumption: 4.2,
  },
  {
    id: 'spa',
    name: 'Spa & Bien-être',
    icon: 'fan',
    deviceCount: 1,
    activeDevices: 0,
    avgTemperature: 24,
    energyConsumption: 1.0,
  },
  {
    id: 'service_elevator',
    name: 'Ascenseurs de Service',
    icon: 'warehouse',
    deviceCount: 1,
    activeDevices: 1,
    avgTemperature: 20,
    energyConsumption: 0.6,
  },
  {
    id: 'sky_lounge',
    name: 'Terrasse Sky Lounge',
    icon: 'sun',
    deviceCount: 1,
    activeDevices: 0,
    avgTemperature: 20,
    energyConsumption: 0.8,
  },
]

export const mockActivity = [
  {
    id: 'evt-1',
    deviceId: 'device-1',
    deviceName: 'Unité de refroidissement du hall',
    description: 'Point de consigne de l\'eau refroidie abaissé à 21°C',
    timestamp: '2025-11-17T10:31:00Z',
    changes: { temperature: 21 },
  },
  {
    id: 'evt-2',
    deviceId: 'device-3',
    deviceName: 'Grille d\'éclairage Grand Salon',
    description: 'Scène changée vers le préréglage Conférence',
    timestamp: '2025-11-17T10:32:00Z',
    changes: { brightness: 70 },
  },
  {
    id: 'evt-3',
    deviceId: 'device-6',
    deviceName: 'Ventilateur Spa',
    description: 'Appareil hors ligne',
    timestamp: '2025-11-17T10:33:00Z',
    changes: { online: false },
  },
  {
    id: 'evt-4',
    deviceId: 'device-2',
    deviceName: 'Thermostat Suite 1203',
    description: 'Demande client : température cible réglée à 22°C',
    timestamp: '2025-11-17T10:34:00Z',
    changes: { targetTemperature: 22 },
  },
]

export const mockAlerts = [
  {
    id: 'alert-1',
    title: 'Refroidisseur du hall hors ligne',
    titleKey: 'alerts.deviceOffline.title',
    titleValues: { device: 'Unité de refroidissement du hall' },
    message: 'L\'unité de refroidissement du hall est injoignable depuis plus de 5 minutes.',
    messageKey: 'alerts.deviceOffline.message',
    messageValues: { device: 'Unité de refroidissement du hall' },
    severity: 'critical',
    state: 'active',
    type: 'device_offline',
    deviceId: 'device-1',
    deviceName: 'Unité de refroidissement du hall',
    zone: 'lobby',
    createdAt: '2025-11-17T10:35:00Z',
    updatedAt: '2025-11-17T10:35:00Z',
    acknowledgedAt: null,
    resolvedAt: null,
    unread: true,
    metadata: {
      offlineSince: '2025-11-17T10:30:00Z',
    },
    history: [
      {
        id: 'hist-1',
        state: 'active',
        timestamp: '2025-11-17T10:35:00Z',
        message: 'Alerte déclenchée : refroidisseur du hall hors ligne',
        messageKey: 'alerts.history.deviceOfflineTriggered',
        messageValues: { device: 'Unité de refroidissement du hall' },
        actor: 'system',
      },
    ],
  },
  {
    id: 'alert-2',
    title: 'Température élevée Suite 1203',
    titleKey: 'alerts.threshold.temperatureHigh.title',
    titleValues: { device: 'Thermostat Suite 1203' },
    message: 'Thermostat Suite 1203 indique 27°C (cible 22°C).',
    messageKey: 'alerts.threshold.temperatureHigh.message',
    messageValues: { device: 'Thermostat Suite 1203', value: 27, target: 22 },
    severity: 'warning',
    state: 'acknowledged',
    type: 'threshold_violation',
    deviceId: 'device-2',
    deviceName: 'Thermostat Suite 1203',
    zone: 'guest_floor_12',
    createdAt: '2025-11-17T10:25:00Z',
    updatedAt: '2025-11-17T10:28:00Z',
    acknowledgedAt: '2025-11-17T10:28:00Z',
    resolvedAt: null,
    unread: false,
    metadata: {
      targetTemperature: 22,
      currentTemperature: 27,
    },
    history: [
      {
        id: 'hist-2',
        state: 'active',
        timestamp: '2025-11-17T10:25:00Z',
        message: 'Alerte déclenchée : température hors seuil',
        messageKey: 'alerts.history.thresholdTriggered',
        messageValues: { metric: 'temperature', device: 'Thermostat Suite 1203' },
        actor: 'system',
      },
      {
        id: 'hist-3',
        state: 'acknowledged',
        timestamp: '2025-11-17T10:28:00Z',
        message: 'Reconnu par le Gestionnaire de Nuit',
        messageKey: 'alerts.history.acknowledged',
        messageValues: { actor: 'Gestionnaire de Nuit' },
        actor: 'Gestionnaire de Nuit',
      },
    ],
  },
  {
    id: 'alert-3',
    title: 'Pic d\'énergie cuisine banquet',
    titleKey: 'alerts.energySpike.title',
    titleValues: { device: 'Capteur Cuisine Banquet' },
    message: 'La consommation d\'énergie du capteur cuisine banquet a augmenté de 60% en 10 minutes.',
    messageKey: 'alerts.energySpike.message',
    messageValues: { device: 'Capteur Cuisine Banquet' },
    severity: 'critical',
    state: 'resolved',
    type: 'energy_spike',
    deviceId: 'device-5',
    deviceName: 'Capteur Cuisine Banquet',
    zone: 'main_kitchen',
    createdAt: '2025-11-17T09:50:00Z',
    updatedAt: '2025-11-17T10:05:00Z',
    acknowledgedAt: '2025-11-17T09:55:00Z',
    resolvedAt: '2025-11-17T10:05:00Z',
    unread: false,
    metadata: {
      consumptionDelta: 0.6,
    },
    history: [
      {
        id: 'hist-4',
        state: 'active',
        timestamp: '2025-11-17T09:50:00Z',
        message: 'Alerte déclenchée : pic d\'énergie cuisine détecté',
        messageKey: 'alerts.history.energySpikeTriggered',
        messageValues: { device: 'Capteur Cuisine Banquet' },
        actor: 'system',
      },
      {
        id: 'hist-5',
        state: 'acknowledged',
        timestamp: '2025-11-17T09:55:00Z',
        message: 'Reconnu par Automatisation du Bâtiment',
        messageKey: 'alerts.history.acknowledged',
        messageValues: { actor: 'Automatisation du Bâtiment' },
        actor: 'system',
      },
      {
        id: 'hist-6',
        state: 'resolved',
        timestamp: '2025-11-17T10:05:00Z',
        message: 'Alerte résolue après normalisation de la charge',
        messageKey: 'alerts.history.energySpikeResolved',
        messageValues: { device: 'Capteur Cuisine Banquet' },
        actor: 'system',
      },
    ],
  },
  {
    id: 'alert-4',
    title: 'Maintenance ascenseur service due',
    titleKey: 'alerts.maintenanceDue.title',
    titleValues: { device: 'Capteur Porte Ascenseur Service' },
    message: 'Maintenance du capteur de porte d\'ascenseur service en retard de 2 jours.',
    messageKey: 'alerts.maintenanceDue.message',
    messageValues: { device: 'Capteur Porte Ascenseur Service', days: 2 },
    severity: 'info',
    state: 'active',
    type: 'maintenance_due',
    deviceId: 'device-7',
    deviceName: 'Capteur Porte Ascenseur Service',
    zone: 'service_elevator',
    createdAt: '2025-11-15T08:15:00Z',
    updatedAt: '2025-11-17T10:00:00Z',
    acknowledgedAt: null,
    resolvedAt: null,
    unread: true,
    metadata: {
      daysOverdue: 2,
    },
    history: [
      {
        id: 'hist-7',
        state: 'active',
        timestamp: '2025-11-15T08:15:00Z',
        message: 'Alerte déclenchée : fenêtre de maintenance ascenseur service dépassée',
        messageKey: 'alerts.history.maintenanceDueTriggered',
        messageValues: { device: 'Capteur Porte Ascenseur Service' },
        actor: 'system',
      },
    ],
  },
  {
    id: 'alert-5',
    title: 'Accès service non autorisé après heures',
    titleKey: 'alerts.securityEvent.title',
    titleValues: { device: 'Lumières Terrasse Sky Lounge' },
    message: 'Lumières Terrasse Sky Lounge allumées en dehors de l\'horaire autorisé.',
    messageKey: 'alerts.securityEvent.message',
    messageValues: { device: 'Lumières Terrasse Sky Lounge' },
    severity: 'critical',
    state: 'active',
    type: 'security_event',
    deviceId: 'device-9',
    deviceName: 'Lumières Terrasse Sky Lounge',
    zone: 'sky_lounge',
    createdAt: '2025-11-17T10:45:00Z',
    updatedAt: '2025-11-17T10:45:00Z',
    acknowledgedAt: null,
    resolvedAt: null,
    unread: true,
    metadata: {
      actor: 'Automatisation éclairage',
    },
    history: [
      {
        id: 'hist-8',
        state: 'active',
        timestamp: '2025-11-17T10:45:00Z',
        message: 'Alerte déclenchée : événement d\'éclairage non autorisé détecté',
        messageKey: 'alerts.history.securityEventTriggered',
        messageValues: { device: 'Lumières Terrasse Sky Lounge' },
        actor: 'system',
      },
    ],
  },
]

export const mockAlertConfig = {
  thresholds: {
    air_conditioner: {
      temperature: { min: 18, max: 24 },
      humidity: { min: 35, max: 55 },
      power: { max: 6.5 },
    },
    thermostat: {
      temperature: { min: 20, max: 24 },
    },
    sensor: {
      humidity: { min: 30, max: 55 },
      airQuality: { min: 80 },
    },
    fan: {
      speed: { max: 3 },
    },
  },
  enabledTypes: {
    device_offline: true,
    threshold_violation: true,
    energy_spike: true,
    maintenance_due: true,
    security_event: true,
  },
  routingRules: [
    {
      id: 'route-critical',
      severity: 'critical',
      channels: ['sms', 'email'],
      targets: ['engineering@aurorahotel.local', '+15550001'],
    },
    {
      id: 'route-warning',
      severity: 'warning',
      channels: ['email'],
      targets: ['frontdesk@aurorahotel.local'],
    },
    {
      id: 'route-info',
      severity: 'info',
      channels: ['in-app'],
      targets: ['hotel-dashboard'],
    },
  ],
  escalationPolicies: [
    {
      id: 'escalate-critical',
      severity: 'critical',
      escalateAfterMinutes: 5,
      notifyRoles: ['Chief Engineer', 'Hotel Manager'],
    },
    {
      id: 'escalate-warning',
      severity: 'warning',
      escalateAfterMinutes: 30,
      notifyRoles: ['Night Manager'],
    },
  ],
}

export const mockScenes = [
  {
    id: 'scene-movie-mode',
    name: 'Mode Cinéma',
    description: 'Assombrit l\'éclairage du salon et refroidit le hall pour les projections.',
    icon: 'clapperboard',
    accentColor: '#7c3aed',
    tags: ['lighting', 'comfort'],
    devices: [
      {
        deviceId: 'device-3',
        label: 'Grille d\'éclairage Grand Salon',
        state: 'on',
        settings: { brightness: 25, color: '#F5CBA7' },
      },
      {
        deviceId: 'device-4',
        label: 'Éclairage Salon du hall',
        state: 'on',
        settings: { brightness: 15, color: '#FEE2E2' },
      },
      {
        deviceId: 'device-1',
        label: 'Unité de refroidissement du hall',
        state: 'on',
        settings: { targetTemperature: 20, mode: 'cool', fanSpeed: 'medium' },
      },
    ],
    metadata: {
      createdBy: 'Équipe Expérience',
      lastActivated: '2025-11-17T20:45:00Z',
      usageCount: 9,
    },
    linkedSchedules: ['schedule-ballroom-premiere'],
  },
  {
    id: 'scene-away-mode',
    name: 'Absence',
    description: 'Éteint les charges non essentielles et augmente les points de consigne.',
    icon: 'plane',
    accentColor: '#0ea5e9',
    tags: ['energy', 'security'],
    devices: [
      { deviceId: 'device-3', label: 'Grille d\'éclairage Grand Salon', state: 'off' },
      { deviceId: 'device-4', label: 'Éclairage Salon du hall', state: 'off' },
      {
        deviceId: 'device-1',
        label: 'Unité de refroidissement du hall',
        state: 'on',
        settings: { targetTemperature: 25, mode: 'eco' },
      },
      { deviceId: 'device-8', label: 'Purificateur d\'air Suite 1210', state: 'off' },
    ],
    metadata: {
      createdBy: 'Moteur d\'automatisation',
      lastActivated: '2025-11-17T11:30:00Z',
      usageCount: 17,
    },
    linkedSchedules: [],
  },
  {
    id: 'scene-sleep-mode',
    name: 'Sommeil',
    description: 'Prépare les suites pour les heures calmes et les balayages de sécurité.',
    icon: 'moon',
    accentColor: '#1e293b',
    tags: ['guest', 'security'],
    devices: [
      {
        deviceId: 'device-2',
        label: 'Thermostat Suite 1203',
        state: 'on',
        settings: { targetTemperature: 21, mode: 'cool' },
      },
      {
        deviceId: 'device-8',
        label: 'Purificateur d\'air Suite 1210',
        state: 'on',
        settings: { fanSpeed: 'low' },
      },
      {
        deviceId: 'device-4',
        label: 'Éclairage Salon du hall',
        state: 'off',
      },
    ],
    metadata: {
      createdBy: 'Expérience client',
      lastActivated: '2025-11-17T01:00:00Z',
      usageCount: 33,
    },
    linkedSchedules: ['schedule-sky-curfew'],
  },
  {
    id: 'scene-morning-routine',
    name: 'Matin',
    description: 'Met les espaces publics en ligne avec un éclairage chaleureux et de l\'air frais.',
    icon: 'sunrise',
    accentColor: '#f97316',
    tags: ['lighting', 'comfort'],
    devices: [
      {
        deviceId: 'device-4',
        label: 'Éclairage Salon du hall',
        state: 'on',
        settings: { brightness: 55, color: '#FFE4C4' },
      },
      {
        deviceId: 'device-3',
        label: 'Grille d\'éclairage Grand Salon',
        state: 'on',
        settings: { brightness: 50 },
      },
      {
        deviceId: 'device-8',
        label: 'Purificateur d\'air Suite 1210',
        state: 'on',
        settings: { fanSpeed: 'medium' },
      },
    ],
    metadata: {
      createdBy: 'Installations',
      lastActivated: '2025-11-17T06:00:00Z',
      usageCount: 42,
    },
    linkedSchedules: ['schedule-weekday-morning'],
  },
]

export const mockSchedules = [
  {
    id: 'schedule-lobby-welcome',
    name: 'Lumières d\'accueil du hall',
    type: 'time',
    targetType: 'device',
    targetId: 'device-4',
    actions: [
      {
        id: 'act-lobby-on',
        type: 'device',
        targetId: 'device-4',
        payload: { state: 'on', brightness: 60, color: '#FFE4C4' },
        description: 'Augmenter l\'éclairage du hall pour les arrivées',
      },
    ],
    startTime: '05:30',
    endTime: '23:30',
    timezone: 'local',
    recurring: {
      type: 'daily',
      daysOfWeek: [0, 1, 2, 3, 4, 5, 6],
      description: 'Quotidien',
    },
    enabled: true,
    status: 'scheduled',
    lastTriggered: '2025-11-17T05:30:00Z',
    nextRun: '2025-11-18T05:30:00Z',
    color: '#f59e0b',
    conditions: [],
    override: null,
    metadata: {
      createdBy: 'Automatisation éclairage',
      notes: 'Synchronisé avec la file musicale à 17:00',
    },
  },
  {
    id: 'schedule-weekday-morning',
    name: 'Réveil matin jours ouvrables',
    type: 'scene',
    targetType: 'scene',
    sceneId: 'scene-morning-routine',
    actions: [
      {
        id: 'act-morning-scene',
        type: 'scene',
        sceneId: 'scene-morning-routine',
        description: 'Activer la scène Matin',
      },
    ],
    startTime: '06:00',
    endTime: '07:30',
    timezone: 'local',
    recurring: {
      type: 'weekly',
      daysOfWeek: [1, 2, 3, 4, 5],
      description: 'Jours ouvrables',
    },
    enabled: true,
    status: 'scheduled',
    lastTriggered: '2025-11-17T06:00:00Z',
    nextRun: '2025-11-18T06:00:00Z',
    color: '#f97316',
    conditions: [],
    override: null,
    metadata: {
      createdBy: 'Expérience client',
      notes: 'Coordonné avec la préparation du petit-déjeuner',
    },
  },
  {
    id: 'schedule-spa-humidity',
    name: 'Purge humidité spa',
    type: 'condition',
    targetType: 'device',
    targetId: 'device-6',
    actions: [
      {
        id: 'act-spa-fan',
        type: 'device',
        targetId: 'device-6',
        payload: { state: 'on', speed: 3 },
        description: 'Purger l\'humidité via le ventilateur',
      },
    ],
    startTime: '10:00',
    endTime: '22:00',
    timezone: 'local',
    recurring: {
      type: 'custom',
      daysOfWeek: [],
      description: 'Fenêtre pilotée par capteur',
      customPattern: 'Quand humidité > 55% pendant 3 min',
    },
    enabled: true,
    status: 'conditional',
    lastTriggered: '2025-11-16T14:05:00Z',
    nextRun: 'En attente d\'événement capteur',
    color: '#0ea5e9',
    conditions: [
      {
        id: 'cond-humidity',
        type: 'sensor',
        deviceId: 'device-5',
        metric: 'humidity',
        operator: '>',
        value: 55,
        durationMinutes: 3,
      },
      {
        id: 'cond-fan-off',
        type: 'device_state',
        deviceId: 'device-6',
        field: 'state',
        operator: '!=',
        value: 'on',
      },
    ],
    override: null,
    metadata: {
      createdBy: 'Gestionnaire spa',
      notes: 'Prévient la condensation sur les surfaces en marbre',
    },
  },
  {
    id: 'schedule-sky-curfew',
    name: 'Couvre-feu sky lounge',
    type: 'time',
    targetType: 'device',
    targetId: 'device-9',
    actions: [
      {
        id: 'act-sky-off',
        type: 'device',
        targetId: 'device-9',
        payload: { state: 'off', brightness: 0 },
        description: 'S\'assurer que les lumières de la terrasse sont éteintes la nuit',
      },
    ],
    startTime: '23:00',
    endTime: '04:30',
    timezone: 'local',
    recurring: {
      type: 'custom',
      daysOfWeek: [0, 1, 2, 3, 4, 5, 6],
      description: 'Couvre-feu nocturne',
      customPattern: 'Coucher du soleil + décalage',
    },
    enabled: true,
    status: 'overridden',
    lastTriggered: '2025-11-17T04:30:00Z',
    nextRun: '2025-11-17T23:00:00Z',
    color: '#10b981',
    conditions: [],
    override: {
      active: true,
      reason: 'Photographie événement privé',
      actor: 'Opérations événements',
      appliedAt: '2025-11-17T21:00:00Z',
      expiresAt: '2025-11-17T23:30:00Z',
      state: 'on',
    },
    metadata: {
      createdBy: 'Sécurité',
      notes: 'Nécessite l\'approbation du superviseur de nuit pour contourner',
    },
  },
  {
    id: 'schedule-ballroom-premiere',
    name: 'Soirées cinéma grand salon',
    type: 'scene',
    targetType: 'scene',
    sceneId: 'scene-movie-mode',
    actions: [
      {
        id: 'act-movie-scene',
        type: 'scene',
        sceneId: 'scene-movie-mode',
        description: 'Activer la scène Mode Cinéma',
      },
    ],
    startTime: '20:00',
    endTime: '23:45',
    timezone: 'local',
    recurring: {
      type: 'weekly',
      daysOfWeek: [5, 6],
      description: 'Vendredi & Samedi',
    },
    enabled: false,
    status: 'paused',
    lastTriggered: '2025-11-15T20:00:00Z',
    nextRun: '2025-11-21T20:00:00Z',
    color: '#a855f7',
    conditions: [],
    override: null,
    metadata: {
      createdBy: 'Événements',
      notes: 'Désactivé en dehors de la saison du festival de cinéma',
    },
  },
]

export const mockAutomationRules = [
  {
    id: 'rule-peak-load-guard',
    name: 'Protection pic de charge',
    description: 'Limite la demande CVC du hall lorsque l\'utilisation du refroidisseur augmente avant les événements du soir.',
    enabled: true,
    priority: 1,
    trigger: {
      type: 'time',
      description: 'Jours ouvrables à 17:00',
      schedule: { at: '17:00', timezone: 'local', daysOfWeek: [1, 2, 3, 4, 5] },
    },
    conditions: [
      {
        id: 'cond-demand',
        type: 'metric',
        source: 'device',
        deviceId: 'device-1',
        metric: 'powerConsumption',
        operator: '>',
        value: 5.5,
      },
      {
        id: 'cond-occupancy',
        type: 'sensor',
        sensor: 'ballroom-occupancy',
        metric: 'count',
        operator: '>',
        value: 50,
        optional: true,
      },
    ],
    actions: [
      {
        id: 'action-chiller-eco',
        type: 'device',
        targetId: 'device-1',
        label: 'Régler le refroidisseur en mode éco',
        payload: { mode: 'eco', targetTemperature: 23 },
      },
      {
        id: 'action-notify-energy',
        type: 'notification',
        channel: 'email',
        recipients: ['energy@aurorahotel.local'],
        message: 'Protection pic de charge activée pour le hall.',
      },
    ],
    elseActions: [
      {
        id: 'action-reset',
        type: 'device',
        targetId: 'device-1',
        label: 'Reprendre le mode confort',
        payload: { mode: 'cool', targetTemperature: 21 },
      },
    ],
    conflictStrategy: 'prefer_highest_priority',
    tags: ['energy', 'hvac'],
    lastEvaluatedAt: '2025-11-17T17:05:00Z',
  },
  {
    id: 'rule-motion-lighting',
    name: 'Éclairage de passage déclenché par mouvement',
    description: 'Allume les lumières de passage du hall lorsque le mouvement est détecté pendant la nuit.',
    enabled: true,
    priority: 2,
    trigger: {
      type: 'sensor',
      description: 'Mouvement détecté dans l\'ascenseur de service',
      sourceDeviceId: 'device-7',
      metric: 'motion',
    },
    conditions: [
      {
        id: 'cond-time-window',
        type: 'time',
        after: '23:00',
        before: '05:00',
      },
    ],
    actions: [
      {
        id: 'action-pathway-on',
        type: 'device',
        targetId: 'device-4',
        label: 'Régler l\'éclairage de passage à 30%',
        payload: { state: 'on', brightness: 30 },
      },
    ],
    elseActions: [
      {
        id: 'action-pathway-off',
        type: 'device',
        targetId: 'device-4',
        payload: { state: 'off' },
      },
    ],
    conflictStrategy: 'prefer_manual_override',
    tags: ['lighting', 'security'],
    lastEvaluatedAt: '2025-11-17T02:13:00Z',
  },
  {
    id: 'rule-manual-safe-mode',
    name: 'Mode sécurité manuel',
    description: 'Permet aux opérateurs d\'appliquer la scène Absence et de diffuser des notifications.',
    enabled: false,
    priority: 3,
    trigger: {
      type: 'manual',
      description: 'Activé depuis le tableau de bord',
    },
    conditions: [
      {
        id: 'cond-alert-volume',
        type: 'alert_state',
        severity: ['critical', 'warning'],
        operator: '>=',
        threshold: 2,
        description: 'Deux alertes critiques/avertissement ou plus ouvertes',
      },
    ],
    actions: [
      {
        id: 'action-scene-away',
        type: 'scene',
        sceneId: 'scene-away-mode',
        label: 'Activer la scène Absence',
      },
      {
        id: 'action-notify-safety',
        type: 'notification',
        channel: 'sms',
        recipients: ['+15550001', '+15550002'],
        message: 'Mode sécurité invoqué par l\'opérateur.',
      },
    ],
    elseActions: [],
    conflictStrategy: 'pause_lower_priority',
    tags: ['safety'],
    lastEvaluatedAt: null,
  },
]
